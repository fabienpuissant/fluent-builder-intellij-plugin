
plugins {
    id("java") // Plugin Java
    id("org.jetbrains.intellij") version "1.17.4"
}

intellij {
    version = "2024.3"
    type = "IC"
    plugins = ["java"]
}


repositories {
    mavenCentral()
    maven { url = uri("https://plugins.jetbrains.com/maven") }
}


dependencies {
    // DÃ©pendances principales pour le plugin
    implementation("org.jetbrains:annotations:24.0.1")

    testImplementation("junit:junit:4.13.2")
    testImplementation("org.opentest4j:opentest4j:1.3.0")

}

sourceSets {
    main {
        java.srcDirs("src/main/java")
    }
    test {
        java.srcDirs("src/test/java")
    }
}

tasks {

    // Configuration des tests
    test {
        jvmArgs = ["-Djava.security.manager=allow"]
        useJUnit()
    }

    runIde {
        jvmArgs = ["-Djava.security.manager=allow"]
    }
}